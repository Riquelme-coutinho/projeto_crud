<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sala de Jogos - EducaTech</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="/img/logo-educatech.svg" type="image/svg+xml">
</head>

<body>
    <div class="container-lg">
        <div class="card">
            <div class="flex justify-between" style="align-items: center; margin-bottom: 20px;">
                <h2>ðŸŽ® Sala de Jogos</h2>
                <a href="/aluno/opcoes" class="btn btn-secondary btn-small">Voltar ao Menu</a>
            </div>

            <p class="text-center mb-4">Bem-vindo! Escolha qual desafio vocÃª quer enfrentar hoje:</p>
            <hr style="border-top: 1px solid var(--border-color); margin: 20px 0;">

            <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">

                <!-- Memory Games -->
                <% if (memoryGames && memoryGames.length> 0) { %>
                    <% memoryGames.forEach(game=> { %>
                        <div
                            style="background: #fff; border: 1px solid var(--border-color); border-radius: var(--radius-md); width: 250px; padding: 15px; display: flex; flex-direction: column; box-shadow: var(--shadow-sm);">
                            <div
                                style="width: 100%; height: 150px; background: #f0f9ff; display: flex; align-items: center; justify-content: center; font-size: 3rem; border-radius: 4px; margin-bottom: 10px;">
                                ðŸ§ 
                            </div>
                            <h3 style="font-size: 1.1rem; margin-bottom: 10px; flex-grow: 1;">
                                <%= game.title %>
                            </h3>
                            <a href="/jogo/memoria/<%= game.id %>" class="btn btn-primary btn-small"
                                style="text-align: center;">JOGAR AGORA</a>
                        </div>
                        <% }) %>
                            <% } %>

                                <!-- Quiz - 10 Perguntas Fixas -->
                                <% if (quizzes && quizzes.length> 0) { %>
                                    <div
                                        style="background: #fff; border: 1px solid var(--border-color); border-radius: var(--radius-md); width: 250px; padding: 15px; display: flex; flex-direction: column; box-shadow: var(--shadow-sm);">
                                        <div
                                            style="width: 100%; height: 150px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-size: 3rem; border-radius: 4px; margin-bottom: 10px;">
                                            ðŸŽ¯
                                        </div>
                                        <h3 style="font-size: 1.1rem; margin-bottom: 10px; flex-grow: 1;">
                                            Quiz Educativo
                                        </h3>
                                        <p style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">
                                            10 perguntas de Verdadeiro ou Falso
                                        </p>
                                        <a href="/jogo/quiz" class="btn btn-primary btn-small"
                                            style="text-align: center;">JOGAR AGORA</a>
                                    </div>
                                    <% } %>

                                        <!-- New Games (Typing, Scramble, Hangman, Math) -->
                                        <% if (newGames && newGames.length> 0) { %>
                                            <% newGames.forEach(game=> {
                                                let icon = 'ðŸŽ®';
                                                let url = '#';

                                                if (game.type === 'digitacao') { icon = 'âŒ¨ï¸'; url = '/jogo/digitacao/' +
                                                game.id; }
                                                else if (game.type === 'palavras') { icon = 'ðŸ” '; url =
                                                '/jogo/palavras/' + game.id; }
                                                else if (game.type === 'forca') { icon = 'ðŸ˜µ'; url = '/jogo/forca/' +
                                                game.id; }
                                                else if (game.type === 'matematica') { icon = 'âž—'; url =
                                                '/jogo/matematica/' + game.id; }
                                                %>
                                                <div
                                                    style="background: #fff; border: 1px solid var(--border-color); border-radius: var(--radius-md); width: 250px; padding: 15px; display: flex; flex-direction: column; box-shadow: var(--shadow-sm);">
                                                    <div
                                                        style="width: 100%; height: 150px; background: #f0f9ff; display: flex; align-items: center; justify-content: center; font-size: 3rem; border-radius: 4px; margin-bottom: 10px;">
                                                        <%= icon %>
                                                    </div>
                                                    <h3 style="font-size: 1.1rem; margin-bottom: 10px; flex-grow: 1;">
                                                        <%= game.title %>
                                                    </h3>
                                                    <a href="<%= url %>" class="btn btn-primary btn-small"
                                                        style="text-align: center;">JOGAR AGORA</a>
                                                </div>
                                                <% }) %>
                                                    <% } %>

                                                        <!-- No games message -->
                                                        <% if ((!quizzes || quizzes.length===0) && (!memoryGames ||
                                                            memoryGames.length===0) && (!newGames ||
                                                            newGames.length===0)) { %>
                                                            <div class="text-center"
                                                                style="color: var(--text-muted); width: 100%;">
                                                                <h3>Nenhum jogo disponÃ­vel no momento.</h3>
                                                                <p>PeÃ§a ao seu professor para cadastrar novos desafios!
                                                                </p>
                                                            </div>
                                                            <% } %>

            </div>
        </div>
    </div>
</body>

</html>